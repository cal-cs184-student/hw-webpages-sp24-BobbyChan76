<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_7yjrimvw3axa-0>li:before{content:"\0025cf   "}.lst-kix_7yjrimvw3axa-2>li:before{content:"\0025a0   "}.lst-kix_7yjrimvw3axa-3>li:before{content:"\0025cf   "}.lst-kix_7yjrimvw3axa-1>li:before{content:"\0025cb   "}.lst-kix_kna893w8ed6b-0>li:before{content:"\0025cf   "}ul.lst-kix_slz5dzoyzbpi-0{list-style-type:none}ul.lst-kix_slz5dzoyzbpi-1{list-style-type:none}ul.lst-kix_slz5dzoyzbpi-2{list-style-type:none}ul.lst-kix_slz5dzoyzbpi-3{list-style-type:none}.lst-kix_kna893w8ed6b-1>li:before{content:"\0025cb   "}.lst-kix_kna893w8ed6b-2>li:before{content:"\0025a0   "}ul.lst-kix_slz5dzoyzbpi-8{list-style-type:none}.lst-kix_kna893w8ed6b-3>li:before{content:"\0025cf   "}.lst-kix_kna893w8ed6b-4>li:before{content:"\0025cb   "}ul.lst-kix_slz5dzoyzbpi-4{list-style-type:none}ul.lst-kix_slz5dzoyzbpi-5{list-style-type:none}ul.lst-kix_slz5dzoyzbpi-6{list-style-type:none}ul.lst-kix_kna893w8ed6b-0{list-style-type:none}ul.lst-kix_slz5dzoyzbpi-7{list-style-type:none}.lst-kix_3q2wdhhg2izk-1>li:before{content:"\0025cb   "}.lst-kix_3q2wdhhg2izk-0>li:before{content:"\0025cf   "}.lst-kix_cz5ajv176hm6-0>li:before{content:"\0025cf   "}.lst-kix_cz5ajv176hm6-1>li:before{content:"\0025cb   "}.lst-kix_cz5ajv176hm6-2>li:before{content:"\0025a0   "}.lst-kix_kna893w8ed6b-7>li:before{content:"\0025cb   "}.lst-kix_kna893w8ed6b-8>li:before{content:"\0025a0   "}.lst-kix_kna893w8ed6b-5>li:before{content:"\0025a0   "}.lst-kix_kna893w8ed6b-6>li:before{content:"\0025cf   "}.lst-kix_cz5ajv176hm6-3>li:before{content:"\0025cf   "}.lst-kix_cz5ajv176hm6-6>li:before{content:"\0025cf   "}.lst-kix_cz5ajv176hm6-4>li:before{content:"\0025cb   "}.lst-kix_cz5ajv176hm6-5>li:before{content:"\0025a0   "}.lst-kix_cz5ajv176hm6-7>li:before{content:"\0025cb   "}.lst-kix_cz5ajv176hm6-8>li:before{content:"\0025a0   "}ul.lst-kix_rd29rdfmf5oh-7{list-style-type:none}ul.lst-kix_rd29rdfmf5oh-8{list-style-type:none}.lst-kix_7yjrimvw3axa-8>li:before{content:"\0025a0   "}.lst-kix_7yjrimvw3axa-7>li:before{content:"\0025cb   "}.lst-kix_7yjrimvw3axa-4>li:before{content:"\0025cb   "}.lst-kix_7yjrimvw3axa-6>li:before{content:"\0025cf   "}.lst-kix_7yjrimvw3axa-5>li:before{content:"\0025a0   "}ul.lst-kix_3q2wdhhg2izk-6{list-style-type:none}ul.lst-kix_3q2wdhhg2izk-5{list-style-type:none}ul.lst-kix_3q2wdhhg2izk-4{list-style-type:none}ul.lst-kix_3q2wdhhg2izk-3{list-style-type:none}ul.lst-kix_7yjrimvw3axa-2{list-style-type:none}ul.lst-kix_7yjrimvw3axa-1{list-style-type:none}ul.lst-kix_3q2wdhhg2izk-8{list-style-type:none}ul.lst-kix_7yjrimvw3axa-0{list-style-type:none}ul.lst-kix_3q2wdhhg2izk-7{list-style-type:none}ul.lst-kix_7yjrimvw3axa-6{list-style-type:none}ul.lst-kix_7yjrimvw3axa-5{list-style-type:none}ul.lst-kix_7yjrimvw3axa-4{list-style-type:none}ul.lst-kix_7yjrimvw3axa-3{list-style-type:none}ul.lst-kix_7yjrimvw3axa-8{list-style-type:none}ul.lst-kix_7yjrimvw3axa-7{list-style-type:none}.lst-kix_slz5dzoyzbpi-0>li:before{content:"\0025cf   "}.lst-kix_slz5dzoyzbpi-4>li:before{content:"\0025cb   "}ul.lst-kix_3q2wdhhg2izk-2{list-style-type:none}ul.lst-kix_3q2wdhhg2izk-1{list-style-type:none}ul.lst-kix_3q2wdhhg2izk-0{list-style-type:none}.lst-kix_slz5dzoyzbpi-2>li:before{content:"\0025a0   "}.lst-kix_hdzvv7nddqh8-4>li:before{content:"\0025cb   "}.lst-kix_ul0guxo6ee45-5>li:before{content:"\0025a0   "}.lst-kix_c9sd5idmq3ml-0>li:before{content:"\0025cf   "}.lst-kix_ul0guxo6ee45-3>li:before{content:"\0025cf   "}.lst-kix_ul0guxo6ee45-7>li:before{content:"\0025cb   "}.lst-kix_hdzvv7nddqh8-6>li:before{content:"\0025cf   "}.lst-kix_ul0guxo6ee45-1>li:before{content:"\0025cb   "}.lst-kix_c9sd5idmq3ml-2>li:before{content:"\0025a0   "}.lst-kix_hdzvv7nddqh8-8>li:before{content:"\0025a0   "}.lst-kix_rd29rdfmf5oh-0>li:before{content:"\0025cf   "}.lst-kix_rd29rdfmf5oh-4>li:before{content:"\0025cb   "}.lst-kix_rd29rdfmf5oh-8>li:before{content:"\0025a0   "}.lst-kix_e1cw2us3lrfg-5>li:before{content:"\0025a0   "}.lst-kix_rd29rdfmf5oh-2>li:before{content:"\0025a0   "}.lst-kix_c9sd5idmq3ml-8>li:before{content:"\0025a0   "}.lst-kix_e1cw2us3lrfg-3>li:before{content:"\0025cf   "}.lst-kix_3q2wdhhg2izk-3>li:before{content:"\0025cf   "}.lst-kix_3q2wdhhg2izk-5>li:before{content:"\0025a0   "}.lst-kix_c9sd5idmq3ml-4>li:before{content:"\0025cb   "}.lst-kix_3q2wdhhg2izk-7>li:before{content:"\0025cb   "}.lst-kix_c9sd5idmq3ml-6>li:before{content:"\0025cf   "}.lst-kix_e1cw2us3lrfg-1>li:before{content:"\0025cb   "}.lst-kix_vqv1j65v3xba-8>li:before{content:"\0025a0   "}.lst-kix_rd29rdfmf5oh-6>li:before{content:"\0025cf   "}.lst-kix_vqv1j65v3xba-6>li:before{content:"\0025cf   "}.lst-kix_hdzvv7nddqh8-2>li:before{content:"\0025a0   "}.lst-kix_hdzvv7nddqh8-0>li:before{content:"\0025cf   "}.lst-kix_vqv1j65v3xba-4>li:before{content:"\0025cb   "}.lst-kix_vqv1j65v3xba-2>li:before{content:"\0025a0   "}.lst-kix_vqv1j65v3xba-0>li:before{content:"\0025cf   "}ul.lst-kix_cz5ajv176hm6-4{list-style-type:none}ul.lst-kix_ul0guxo6ee45-0{list-style-type:none}ul.lst-kix_cz5ajv176hm6-3{list-style-type:none}ul.lst-kix_ul0guxo6ee45-1{list-style-type:none}ul.lst-kix_cz5ajv176hm6-2{list-style-type:none}ul.lst-kix_ul0guxo6ee45-2{list-style-type:none}ul.lst-kix_cz5ajv176hm6-1{list-style-type:none}ul.lst-kix_ul0guxo6ee45-3{list-style-type:none}ul.lst-kix_cz5ajv176hm6-8{list-style-type:none}ul.lst-kix_ul0guxo6ee45-4{list-style-type:none}ul.lst-kix_e1cw2us3lrfg-7{list-style-type:none}ul.lst-kix_cz5ajv176hm6-7{list-style-type:none}ul.lst-kix_ul0guxo6ee45-5{list-style-type:none}ul.lst-kix_e1cw2us3lrfg-8{list-style-type:none}ul.lst-kix_cz5ajv176hm6-6{list-style-type:none}ul.lst-kix_ul0guxo6ee45-6{list-style-type:none}ul.lst-kix_cz5ajv176hm6-5{list-style-type:none}ul.lst-kix_ul0guxo6ee45-7{list-style-type:none}ul.lst-kix_e1cw2us3lrfg-3{list-style-type:none}ul.lst-kix_e1cw2us3lrfg-4{list-style-type:none}ul.lst-kix_e1cw2us3lrfg-5{list-style-type:none}ul.lst-kix_e1cw2us3lrfg-6{list-style-type:none}ul.lst-kix_cz5ajv176hm6-0{list-style-type:none}ul.lst-kix_e1cw2us3lrfg-0{list-style-type:none}ul.lst-kix_e1cw2us3lrfg-1{list-style-type:none}ul.lst-kix_e1cw2us3lrfg-2{list-style-type:none}ul.lst-kix_c9sd5idmq3ml-8{list-style-type:none}ul.lst-kix_c9sd5idmq3ml-5{list-style-type:none}ul.lst-kix_c9sd5idmq3ml-4{list-style-type:none}ul.lst-kix_c9sd5idmq3ml-7{list-style-type:none}ul.lst-kix_c9sd5idmq3ml-6{list-style-type:none}ul.lst-kix_c9sd5idmq3ml-1{list-style-type:none}ul.lst-kix_c9sd5idmq3ml-0{list-style-type:none}ul.lst-kix_c9sd5idmq3ml-3{list-style-type:none}ul.lst-kix_c9sd5idmq3ml-2{list-style-type:none}ul.lst-kix_ul0guxo6ee45-8{list-style-type:none}ul.lst-kix_vqv1j65v3xba-8{list-style-type:none}ul.lst-kix_vqv1j65v3xba-7{list-style-type:none}ul.lst-kix_vqv1j65v3xba-6{list-style-type:none}ul.lst-kix_vqv1j65v3xba-5{list-style-type:none}ul.lst-kix_vqv1j65v3xba-4{list-style-type:none}ul.lst-kix_vqv1j65v3xba-3{list-style-type:none}.lst-kix_e1cw2us3lrfg-6>li:before{content:"\0025cf   "}ul.lst-kix_vqv1j65v3xba-2{list-style-type:none}ul.lst-kix_vqv1j65v3xba-1{list-style-type:none}.lst-kix_e1cw2us3lrfg-7>li:before{content:"\0025cb   "}ul.lst-kix_vqv1j65v3xba-0{list-style-type:none}.lst-kix_e1cw2us3lrfg-8>li:before{content:"\0025a0   "}.lst-kix_slz5dzoyzbpi-7>li:before{content:"\0025cb   "}.lst-kix_slz5dzoyzbpi-8>li:before{content:"\0025a0   "}.lst-kix_slz5dzoyzbpi-5>li:before{content:"\0025a0   "}.lst-kix_slz5dzoyzbpi-6>li:before{content:"\0025cf   "}ul.lst-kix_hdzvv7nddqh8-4{list-style-type:none}ul.lst-kix_hdzvv7nddqh8-3{list-style-type:none}ul.lst-kix_hdzvv7nddqh8-2{list-style-type:none}ul.lst-kix_hdzvv7nddqh8-1{list-style-type:none}ul.lst-kix_hdzvv7nddqh8-0{list-style-type:none}.lst-kix_slz5dzoyzbpi-1>li:before{content:"\0025cb   "}ul.lst-kix_rd29rdfmf5oh-3{list-style-type:none}ul.lst-kix_rd29rdfmf5oh-4{list-style-type:none}ul.lst-kix_rd29rdfmf5oh-5{list-style-type:none}ul.lst-kix_rd29rdfmf5oh-6{list-style-type:none}.lst-kix_slz5dzoyzbpi-3>li:before{content:"\0025cf   "}ul.lst-kix_hdzvv7nddqh8-8{list-style-type:none}ul.lst-kix_hdzvv7nddqh8-7{list-style-type:none}ul.lst-kix_rd29rdfmf5oh-0{list-style-type:none}ul.lst-kix_hdzvv7nddqh8-6{list-style-type:none}ul.lst-kix_rd29rdfmf5oh-1{list-style-type:none}ul.lst-kix_hdzvv7nddqh8-5{list-style-type:none}ul.lst-kix_rd29rdfmf5oh-2{list-style-type:none}.lst-kix_hdzvv7nddqh8-5>li:before{content:"\0025a0   "}.lst-kix_c9sd5idmq3ml-1>li:before{content:"\0025cb   "}.lst-kix_hdzvv7nddqh8-7>li:before{content:"\0025cb   "}.lst-kix_ul0guxo6ee45-4>li:before{content:"\0025cb   "}.lst-kix_ul0guxo6ee45-8>li:before{content:"\0025a0   "}.lst-kix_c9sd5idmq3ml-3>li:before{content:"\0025cf   "}.lst-kix_ul0guxo6ee45-2>li:before{content:"\0025a0   "}.lst-kix_ul0guxo6ee45-6>li:before{content:"\0025cf   "}.lst-kix_rd29rdfmf5oh-5>li:before{content:"\0025a0   "}.lst-kix_rd29rdfmf5oh-7>li:before{content:"\0025cb   "}.lst-kix_rd29rdfmf5oh-1>li:before{content:"\0025cb   "}.lst-kix_rd29rdfmf5oh-3>li:before{content:"\0025cf   "}.lst-kix_3q2wdhhg2izk-2>li:before{content:"\0025a0   "}.lst-kix_e1cw2us3lrfg-4>li:before{content:"\0025cb   "}ul.lst-kix_kna893w8ed6b-1{list-style-type:none}.lst-kix_3q2wdhhg2izk-4>li:before{content:"\0025cb   "}ul.lst-kix_kna893w8ed6b-2{list-style-type:none}ul.lst-kix_kna893w8ed6b-3{list-style-type:none}ul.lst-kix_kna893w8ed6b-4{list-style-type:none}ul.lst-kix_kna893w8ed6b-5{list-style-type:none}ul.lst-kix_kna893w8ed6b-6{list-style-type:none}.lst-kix_ul0guxo6ee45-0>li:before{content:"\0025cf   "}ul.lst-kix_kna893w8ed6b-7{list-style-type:none}.lst-kix_c9sd5idmq3ml-7>li:before{content:"\0025cb   "}.lst-kix_e1cw2us3lrfg-2>li:before{content:"\0025a0   "}ul.lst-kix_kna893w8ed6b-8{list-style-type:none}.lst-kix_3q2wdhhg2izk-8>li:before{content:"\0025a0   "}.lst-kix_3q2wdhhg2izk-6>li:before{content:"\0025cf   "}.lst-kix_c9sd5idmq3ml-5>li:before{content:"\0025a0   "}.lst-kix_e1cw2us3lrfg-0>li:before{content:"\0025cf   "}.lst-kix_vqv1j65v3xba-7>li:before{content:"\0025cb   "}.lst-kix_hdzvv7nddqh8-3>li:before{content:"\0025cf   "}.lst-kix_vqv1j65v3xba-5>li:before{content:"\0025a0   "}.lst-kix_vqv1j65v3xba-3>li:before{content:"\0025cf   "}.lst-kix_hdzvv7nddqh8-1>li:before{content:"\0025cb   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_vqv1j65v3xba-1>li:before{content:"\0025cb   "}ol{margin:0;padding:0}table td,table th{padding:0}.c1{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:175pt;border-top-color:#000000;border-bottom-style:solid}.c3{-webkit-text-decoration-skip:none;color:#333333;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:10pt;font-family:"Courier New";font-style:normal}.c0{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c8{margin-left:72pt;padding-top:0pt;padding-left:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c13{margin-left:72pt;padding-top:0pt;padding-left:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c4{-webkit-text-decoration-skip:none;color:#333333;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none;font-size:10pt;font-family:"Courier New"}.c5{color:#333333;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c30{padding-top:16pt;padding-bottom:12pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c2{padding-top:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c25{-webkit-text-decoration-skip:none;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-family:"Arial";font-style:normal}.c20{padding-top:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c36{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c22{padding-top:13pt;padding-bottom:12pt;line-height:1.43;orphans:2;widows:2;text-align:left}.c35{padding-top:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c33{padding-top:13pt;padding-bottom:12pt;line-height:1.43;orphans:2;widows:2;text-align:center}.c9{font-weight:700;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c29{text-decoration-skip-ink:none;font-size:15pt;-webkit-text-decoration-skip:none;color:#333333;text-decoration:underline}.c31{-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none;font-size:19.5pt}.c21{margin-left:auto;border-spacing:0;border-collapse:collapse;margin-right:auto}.c32{color:#434343;font-weight:400;font-size:14pt;font-family:"Arial"}.c28{color:#000000;font-weight:400;font-size:11pt;font-family:"Arial"}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c14{font-size:10pt;font-family:"Courier New";color:#333333}.c24{text-decoration:none;vertical-align:baseline;font-style:normal}.c23{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c34{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;text-decoration:underline}.c18{color:#333333;font-size:19.5pt}.c7{padding:0;margin:0}.c11{color:#000000;font-size:12pt}.c6{color:#333333;font-size:12pt}.c27{margin-left:180pt;padding-left:0pt}.c26{color:inherit;text-decoration:inherit}.c10{font-weight:700}.c19{height:0pt}.c16{height:11pt}.c17{font-style:italic}.c15{font-size:12pt}.c37{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c23 doc-content"><h3 class="c33" id="h.pco2xwtyr07z"><span class="c10 c31"><a class="c26" href="https://www.google.com/url?q=https://cal-cs184-student.github.io/hw-webpages-sp24-BobbyChan76/hw3/index.html&amp;sa=D&amp;source=editors&amp;ust=1710291726467280&amp;usg=AOvVaw2CckDBtys4jVum7UMPCXZ-">Website</a></span></h3><h3 class="c22" id="h.jmccc4ara064"><span class="c9 c18">Overview:</span></h3><p class="c36"><span>In this project we learned how to render scenes with different types of lighting and how to create data structures to speed this up. We first implemented intersection methods for basic objects that mostly make up our scene such as triangles and spheres. Next we dealt with one of the main issues when rendering scenes is the amount of time it takes to traverse a scene to find where all the objects/primitives are when trying to find what surfaces are intersected by our sampled rays. To tackle this we implemented a tree style bounding volume hierarchy to speed up scene traversal when trying to find out what objects/primitive intersect. Now when we cast a ray into our scene, we can check whether they intersect with large bounding boxes and only recurse over their sub boxes if an intersection occurred instead of wasting time searching through regions we know the ray can&rsquo;t access. Then we implemented direct and indirect lighting by sampling rays from our camera&rsquo;s position, casting them into the scene, and then randomly bouncing them off of the objects they intersect, multiple times, to see if the ray is ever able to reach a light source and thus carry any radiance. Finally we tried to speed up the time to render our scenes by using adaptive sampling which potentially reduces the number of sampled rays we cast out to estimate the value of a pixel. </span></p><h3 class="c22" id="h.xr14vugztnx4"><span class="c9 c18">Part 1</span></h3><ul class="c7 lst-kix_kna893w8ed6b-0 start"><li class="c0 li-bullet-0"><span class="c9 c6">Walk through the ray generation and primitive intersection parts of the rendering pipeline.</span></li><li class="c0 li-bullet-0"><span class="c9 c6">Explain the triangle intersection algorithm you implemented in your own words.</span></li></ul><ul class="c7 lst-kix_kna893w8ed6b-1 start"><li class="c13 li-bullet-0"><span class="c6">To </span><span class="c6 c10">generate a camera ray</span><span class="c6">&nbsp;using the normalized values of (x, y), I found its corresponding camera space direction by doing the following: </span><img src="images/image1.png"><span class="c6"><br></span><img src="images/image2.png"><span class="c6"><br></span><img src="images/image3.png"><span class="c6"><br>I did this because the image space coordinates (x, y) are suppose to be in the same relative location on the image sensor in camera space whose corners are </span><img src="images/image4.png"><span class="c6">.<br>When x is 0, </span><img src="images/image5.png"><span class="c6">&nbsp;needs to be on the left edge of the image sensor which would be when </span><img src="images/image6.png"><span class="c6">&nbsp;and when x is 1 it should be the right edge which is just the negative of the left one. The same logic follows for finding </span><img src="images/image7.png"><span class="c6">&nbsp;while </span><img src="images/image3.png"><span class="c6">&nbsp;because that&rsquo;s the constant z coordinate for the image sensor. With the camera space direction </span><img src="images/image8.png"><span class="c6">&nbsp;and the camera to world rotation matrix, c2w, I was able to get the corresponding world direction </span><img src="images/image9.png"><span class="c6">&nbsp;by doing </span><img src="images/image10.png"><span class="c6">. Finally I can create the ray in world space by setting its origin to be the camera&rsquo;s origin in world space, </span><img src="images/image11.png"><span class="c6">, since the ray is supposed to come from the camera&rsquo;s center, and setting the direction vector to be my calculated </span><img src="images/image9.png"><span class="c5">.</span></li><li class="c13 li-bullet-0"><span class="c6 c10">To find the intersection between a ray and a triangle</span><span class="c6">&nbsp;I simply followed the M&ouml;ller&ndash;Trumbore intersection algorithm discussed in class and discussion which manipulates the linear equation necessary for intersection, </span><img src="images/image12.png"><span class="c6">. This equation came from the fact that the ray can be represented by the parametric equation </span><img src="images/image13.png"><span class="c6">&nbsp;and a point within the triangle, </span><img src="images/image14.png"><span class="c6">, can be represented as </span><img src="images/image15.png"><span class="c6">&nbsp;by using barycentric coordinates and the vertices of the triangle </span><img src="images/image16.png"><span class="c6">. The M&ouml;ller&ndash;Trumbore intersection algorithm is just the following, <br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 412.50px; height: 277.43px;"><img alt="" src="images/image59.png" style="width: 412.50px; height: 277.43px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c6">.<br>Once I solved for </span><img src="images/image17.png"><span class="c6">, I checked if their values corresponded to an actual point within the triangle by checking that </span><img src="images/image18.png"><span class="c6">, </span><img src="images/image19.png"><span class="c6">, &nbsp;</span><img src="images/image20.png"><span class="c6">, and </span><img src="images/image21.png"><span class="c6">. I also checked that the value for </span><img src="images/image22.png"><span class="c6">&nbsp;was in a valid range for the corresponding ray, <br>ray.min_t </span><img src="images/image23.png"><span class="c6">&nbsp;ray.max_t. <br>To find the normal vector of the intersection point, </span><img src="images/image24.png"><span class="c6">, I used the barycentric coordinates of the intersection point, </span><img src="images/image25.png"><span class="c6">, and the normals of the triangles vertices, </span><img src="images/image26.png"><span class="c6">, to make the linear combination </span><img src="images/image27.png"><span class="c5">.</span></li><li class="c13 li-bullet-0"><span class="c6 c10">To find the intersection of the ray and a sphere</span><span class="c6">&nbsp;I followed a similar approach to the triangle intersection but now using the equation a point on a sphere, P, &nbsp;with center, c, and radius, R, must satisfy, </span><img src="images/image28.png"><span class="c6">. Using the same ray equation discussed previously, we can set both equation equal to each other to set up a quadratic equation in terms of t that looks like the following, </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 467.50px; height: 320.66px;"><img alt="" src="images/image79.png" style="width: 467.50px; height: 320.66px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c6">.<br>This means there can be two possible values for </span><img src="images/image22.png"><span class="c6">&nbsp;which makes sense since the ray can intersect a sphere at possibly two locations. I similarly also check that </span><img src="images/image22.png"><span class="c6">&nbsp;is non-negative and that at least one of the two possible values for </span><img src="images/image22.png"><span class="c5">&nbsp;falls within the range of [ray.min_t, ray.max_t]. The normal of the intersection point is just the center of the sphere subtracted from the intersection point and normalized.</span></li></ul><ul class="c7 lst-kix_kna893w8ed6b-0"><li class="c0 li-bullet-0"><span class="c6 c10">Show images with normal shading for a few small </span><span class="c6 c10 c17">.dae</span><span class="c9 c6">&nbsp;files.</span></li></ul><ul class="c7 lst-kix_kna893w8ed6b-1 start"><li class="c13 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image95.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c13 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image68.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><h3 class="c22" id="h.d2kw5scdn18"><span class="c9 c18">Part 2</span></h3><ul class="c7 lst-kix_vqv1j65v3xba-0 start"><li class="c0 li-bullet-0"><span class="c9 c6">Walk through your BVH construction algorithm. Explain the heuristic you chose for picking the splitting point.</span></li></ul><ul class="c7 lst-kix_vqv1j65v3xba-1 start"><li class="c13 li-bullet-0"><span class="c6">To construct the BVH of the scene I made a recursive algorithm that first checks if the number of primitives passed in is less than or equal to the max_leaf_size that was specified. If this is true then I create a leaf node in the BVH tree by setting its left and right children pointers to NULL and assigning its start and end variables to the ones passed in. If the clause was false then I first find the average centroid of all the primitives passed in by averaging the centroids of their bounding boxes. </span><span class="c6 c10">For the heuristic </span><span class="c5">I iterate over all the primitives again to count how many are on each side of the average x, y, and z coordinate so I can figure out which axis has a more balanced split of primitives. Using the axis I decided to split on, I create a comparator to sort the iterator of primitives based on their value along the splitting axis then I use binary search to find the primitive to split on. After doing this, I recursively call the BVH construction function using the primitives on the left side of the split and the ones on the right side of the split.</span></li></ul><ul class="c7 lst-kix_vqv1j65v3xba-0"><li class="c0 li-bullet-0"><span class="c6 c10">Show images with normal shading for a few large </span><span class="c6 c10 c17">.dae</span><span class="c9 c6">&nbsp;files that you can only render with BVH acceleration.</span></li></ul><ul class="c7 lst-kix_vqv1j65v3xba-1 start"><li class="c13 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image57.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c13 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image61.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ul class="c7 lst-kix_vqv1j65v3xba-0"><li class="c0 li-bullet-0"><span class="c6 c10">Compare rendering times on a few scenes with moderately complex geometries with and without BVH acceleration. Present your results in a one-paragraph analysis.</span></li></ul><p class="c20"><span class="c5">The BVH Tree will greatly accelerate the rendering times. Since the BVH tree makes it easier to find possible intersections with primitives because it stores subdivisions of space into a tree structure, it makes it so we don&rsquo;t have to search the entire set of primitives to find an intersection. We can instead look at a much smaller subset of possible primitives. This will make tracing each ray a lot quicker because we will be able to quickly discard many primitives that are guaranteed not to intersect with the ray. We see this in our results since the average # of intersection tests per ray is a lot smaller and the average # of rays per second is therefore higher.</span></p><p class="c20"><span class="c9 c6">BVH Tree Comparisons on cow.dae</span></p><a id="t.61b0d7fd3b2b02943264132ca7226f2df22afd31"></a><a id="t.0"></a><table class="c21"><tr class="c19"><td class="c1" colspan="1" rowspan="1"><p class="c12 c16"><span class="c6 c9"></span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">Average # of Rays Per Second</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">Average # of Intersections Per Ray</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">Clock Time</span></p></td></tr><tr class="c19"><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">With BVH tree </span></p><p class="c12"><span class="c9 c6">Without BVH tree</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c11">Average speed 5.3346 million rays per second</span></p><p class="c12"><span class="c9 c11">Average speed 0.1737 million rays per second</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c11">Averaged 4.799412 intersection tests per ray</span></p><p class="c12"><span class="c9 c11">Averaged 885.568010 intersection tests per ray</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c11">0.0792s</span></p><p class="c12"><span class="c9 c11">3.5172s</span></p></td></tr></table><p class="c20"><span class="c9 c6">BVH Tree Comparisons on beast.dae</span></p><a id="t.08ddc26c0e197a1d674b9697d0eef97e4ce0c6cf"></a><a id="t.1"></a><table class="c21"><tr class="c19"><td class="c1" colspan="1" rowspan="1"><p class="c12 c16"><span class="c9 c6"></span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">Average # of Rays Per Second</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">Average # of Intersections Per Ray</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">Clock Time</span></p></td></tr><tr class="c19"><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">With BVH tree </span></p><p class="c12"><span class="c9 c6">Without BVH tree</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c10 c15">Average speed 4.5683 million rays per second</span></p><p class="c12"><span class="c10 c15">Average speed 0.0048 million rays per second</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c10 c15">Averaged 5.685313 intersection tests per ray</span></p><p class="c12"><span class="c10 c15">Averaged 18123.750599 intersection tests per ray</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c10 c15">0.0617s</span></p><p class="c12"><span class="c10 c15">81.1457s</span></p></td></tr></table><p class="c20"><span class="c9 c6">BVH Tree Comparisons on peter.dae</span></p><a id="t.2f86e366829f6ad10cad0d7b5a2201d86e414668"></a><a id="t.2"></a><table class="c21"><tr class="c19"><td class="c1" colspan="1" rowspan="1"><p class="c12 c16"><span class="c9 c6"></span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">Average # of Rays Per Second</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">Average # of Intersections Per Ray</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">Clock Time</span></p></td></tr><tr class="c19"><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c9 c6">With BVH tree </span></p><p class="c12"><span class="c9 c6">Without BVH tree</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c10 c15">Average speed 5.0506 million rays per second</span></p><p class="c12"><span class="c10 c15">Average speed 0.0152 million rays per second</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c10 c15">Averaged 5.397146 intersection tests per ray</span></p><p class="c12"><span class="c10 c15">Averaged 9059.763167 intersection tests per ray</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c12"><span class="c10 c15">0.0370 sec</span></p><p class="c12"><span class="c10 c15">33.0927s</span></p></td></tr></table><p class="c2"><span class="c9 c6"></span></p><p class="c2"><span class="c9 c6"></span></p><p class="c2"><span class="c9 c6"></span></p><p class="c2"><span class="c9 c6"></span></p><h3 class="c22" id="h.xpfg1gu328k"><span class="c9 c18">Part 3</span></h3><ul class="c7 lst-kix_rd29rdfmf5oh-0 start"><li class="c0 li-bullet-0"><span class="c9 c6">Walk through both implementations of the direct lighting function.</span></li></ul><ul class="c7 lst-kix_rd29rdfmf5oh-1 start"><li class="c13 li-bullet-0"><span class="c6">For the hemisphere direct lighting function I sample a direction, </span><img src="images/image29.png"><span class="c6">, in object space using the hemisphereSampler sampler. Using this new sampled direction, I construct a new ray that is cast out from the current intersection point to see if a light source can be hit. The ray I construct has origin hit_p, the original intersection point, direction </span><img src="images/image30.png"><span class="c6">, <br>and min_t = EPS_F. Next I see if this new ray intersects something in the scene by calling the bvh-&gt;intersect function and if it does I add a new term to my Monte Carlo estimate for the irradiance. To make this term I calculate the reflectance, </span><img src="images/image31.png"><span class="c6">, by calling isect.bsdf-&gt;f(</span><img src="images/image32.png"><span class="c6">) where </span><img src="images/image33.png"><span class="c6">&nbsp;is the outgoing ray from the intersection to the camera, the cosine of the angle between the normal of the intersection surface and </span><img src="images/image29.png"><span class="c6">&nbsp;</span><img src="images/image34.png"><span class="c5">, and the emission of the new surface that is intersected by the new ray (new_isect-&gt;bsdf.get_emission()). Then I divide this term by the pdf of the sampler which would just be (1 / pi) because we&rsquo;re uniformly sampling in a hemisphere. Finally this term is added to my running sum of irradiances which I divide by the total number of samples once I finish creating sample rays.</span></li><li class="c13 li-bullet-0"><span class="c6">For the importance direct lighting I loop over all the lights in the scene, scene-&gt;lights and for each of these lights I sample ns_area_light samples unless the light is a point light source. I create the sampled direction by calling the sample_L function which samples a point on the given light source and returns a direction ,</span><img src="images/image35.png"><span class="c6">&nbsp;towards it, the distance from the hit point to the light, dist, and the pdf used to sample the direction. Before creating the ray I check whether the cosine of the angle between the intersection&rsquo;s normal vector and the sampled direction, </span><img src="images/image29.png"><span class="c6">, is less than 0 as this would mean the direction vector goes through the hit point surface itself so we shouldn&rsquo;t consider casting this ray. Otherwise I create a new ray with origin hit_p, the original intersection point, direction </span><img src="images/image29.png"><span class="c6">, <br>min_t = EPS_F, and max_t = dist - EPS_F so the new ray doesn&rsquo;t intersect with the light itself when I cast it. Next I check if this new ray intersects some other object that is not the light source by calling bvh-&gt;intersect as this would mean some object is blocking the light source through this direction </span><img src="images/image29.png"><span class="c6">&nbsp;so the irradiance will be 0. If there&#39;s no other intersection I simply create a new term for this ray that will be added to my Monte Carlo Estimator just like in the hemisphere part. <br>Term = (f * cos_angle * emission) / pdf<br>where f = isect.bsdf-&gt;f(</span><img src="images/image36.png"><span class="c6">), <br>cos_angle = </span><img src="images/image37.png"><span class="c5">,<br>emission = curr-&gt;sample_L(hit_p, &amp;w_i, &amp;dist, &amp;pdf). After going through all the lights and sampling all the rays I return my Monte Carlo Estimator divided by the number of sample rays I cast.</span></li></ul><ul class="c7 lst-kix_rd29rdfmf5oh-0"><li class="c0 li-bullet-0"><span class="c9 c6">Show some images rendered with both implementations of the direct lighting function.</span></li></ul><ul class="c7 lst-kix_rd29rdfmf5oh-1 start"><li class="c8 li-bullet-0"><span class="c34 c6">Hemisphere Direct Lighting<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image78.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c8 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image70.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c25 c6"><br><br></span></li><li class="c8 li-bullet-0"><span class="c25 c6">Importance Direct Lighting</span></li><li class="c8 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image71.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c8 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image84.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ul class="c7 lst-kix_rd29rdfmf5oh-0"><li class="c0 li-bullet-0"><span class="c6 c10">Focus on one particular scene with at least one area light and compare the noise levels in soft shadows when rendering with 1, 4, 16, and 64 light rays (the </span><span class="c10 c14">-l</span><span class="c6 c10">&nbsp;flag) and with 1 sample per pixel (the </span><span class="c14 c10">-s</span><span class="c6 c10">&nbsp;flag) using light sampling, not uniform hemisphere sampling.</span></li></ul><ul class="c7 lst-kix_rd29rdfmf5oh-1 start"><li class="c8 li-bullet-0"><span class="c34 c6">1 light ray<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image73.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c25 c6"><br></span></li><li class="c8 li-bullet-0"><span class="c34 c6">4 Light Rays<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image64.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c25 c6"><br></span></li><li class="c8 li-bullet-0"><span class="c34 c6">16 Light Rays<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image82.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c25 c6"><br></span></li><li class="c8 li-bullet-0"><span class="c6 c34">64 Light Rays<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image81.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c8 c16 li-bullet-0"><span class="c6 c25"><br></span></li></ul><ul class="c7 lst-kix_rd29rdfmf5oh-0"><li class="c0 li-bullet-0"><span class="c9 c6">Compare the results between uniform hemisphere sampling and lighting sampling in a one-paragraph analysis.</span></li></ul><ul class="c7 lst-kix_rd29rdfmf5oh-1 start"><li class="c13 li-bullet-0"><span class="c5">The renders using the uniform hemisphere sampling method appear to have more noise than the importance sampling method which is due to not directly sampling directions towards light sources. By sampling directions randomly, many of the rays won&rsquo;t point towards a light source and thus result in an emission of 0, even in places in the scene which are definitely receiving light. These non light source rays will then skew our Monte Carlo Estimator to report a dimmer value than we would get with the importance sampling method and thus create randomly dim pixels that look like noise in our final render.</span></li></ul><h3 class="c22" id="h.z97n4v42x4eg"><span class="c9 c18">Part 4</span></h3><ul class="c7 lst-kix_cz5ajv176hm6-0 start"><li class="c0 li-bullet-0"><span class="c9 c6">Walk through your implementation of the indirect lighting function.</span></li></ul><ul class="c7 lst-kix_cz5ajv176hm6-1 start"><li class="c13 li-bullet-0"><span class="c6">For indirect lighting we had to account for light rays bouncing around the scene, up to N times, as it would in real life so using the already sampled ray, r,passed into the function, with direction </span><img src="images/image29.png"><span class="c6">, and its intersection point, we sampled more rays that would continue on and potentially hit a light source. To create these rays we sampled new directions, </span><img src="images/image29.png"><span class="c6">, using the sample_f function of the current intersection&rsquo;s bsdf <br>(isect.bsdf-&gt;sample_f(</span><img src="images/image38.png"><span class="c6">)). We set the origin of the rays to be hit_p, the intersection point, the direction to be </span><img src="images/image39.png"><span class="c6">&nbsp;since </span><img src="images/image29.png"><span class="c6">&nbsp;is sampled in object space, min_t to be EPS_F, max_t to be INF_D, and the depth to be the depth of the previous ray + 1. After creating the new ray we cast it out to see if it intersects with something else in the scene. If it doesn&rsquo;t intersect with anything, I just return the result of calling either the hemisphere or importance direct lighting functions through the one_bounce_radiance function using the ray and intersection passed into at_least_one_bounce_radiance. Otherwise I add both the result of the one_bounce_radiance function with a new term consisting of <br></span><img src="images/image40.png"><span class="c6">&nbsp;cos_angle * emission) / pdf <br>where </span><img src="images/image31.png"><span class="c6">&nbsp;is the result of calling the sample_f function earlier, <br>cos_angle = </span><img src="images/image41.png"><span class="c5">&nbsp;pdf is the pdf used/set in the call to sample_f, and emission = recursively calling at_least_once_bounce_radiance with the new ray I created and the object it intersected. </span></li></ul><ul class="c7 lst-kix_cz5ajv176hm6-0"><li class="c0 li-bullet-0"><span class="c9 c6">Show some images rendered with global (direct and indirect) illumination. Use 1024 samples per pixel.</span></li></ul><ul class="c7 lst-kix_cz5ajv176hm6-1 start"><li class="c8 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image66.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c8 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image93.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c8 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image56.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><p class="c16 c35"><span class="c5"></span></p><ul class="c7 lst-kix_cz5ajv176hm6-0"><li class="c0 li-bullet-0"><span class="c6 c10">Pick one scene and compare rendered views first with only direct illumination, then only indirect illumination. Use 1024 samples per pixel. (You will have to edit </span><span class="c14 c10">PathTracer::at_least_one_bounce_radiance(...)</span><span class="c9 c6">&nbsp;in your code to generate these views.)</span></li></ul><ul class="c7 lst-kix_cz5ajv176hm6-1 start"><li class="c8 li-bullet-0"><span class="c29">Direct illumination</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image53.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c8 li-bullet-0"><span class="c29">Indirect illumination</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image72.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><p class="c2"><span class="c9 c6"></span></p><ul class="c7 lst-kix_cz5ajv176hm6-0"><li class="c0 li-bullet-0"><span class="c6 c10">For </span><span class="c6 c10 c17">CBbunny.dae</span><span class="c6 c10">, render the mth bounce of light with </span><span class="c14 c10">max_ray_depth</span><span class="c6 c10">&nbsp;set to 0, 1, 2, 3, 4, and 5 (the </span><span class="c14 c10">-m</span><span class="c6 c10">&nbsp;flag), and </span><span class="c14 c10">isAccumBounces=false</span><span class="c9 c6">. Explain in your writeup what you see for the 2nd and 3rd bounce of light, and how it contributes to the quality of the rendered image compared to rasterization. Use 1024 samples per pixel.</span></li></ul><p class="c20"><span class="c6">The 2nd bounce of light will contribute to the light in the shadows, particularly you can see a big difference in the light towards the rear of the rabbit and also to a lesser degree you can see the difference in the corners of the room. The 3rd bounce of light looks like it contributes a little bit of light to almost every scene in the image. It will generally make each area a little brighter and reduce the contrast of the image (smooth it out).</span></p><ul class="c7 lst-kix_cz5ajv176hm6-1"><li class="c8 li-bullet-0"><span class="c4">max_ray_depth = 0</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image74.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth = 1</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image52.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth = 2</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image91.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth = 3</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image62.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth = 4</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image58.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth = 5</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image94.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><ul class="c7 lst-kix_cz5ajv176hm6-0"><li class="c0 li-bullet-0"><span class="c6 c10">For </span><span class="c6 c10 c17">CBbunny.dae</span><span class="c6 c10">, compare rendered views with </span><span class="c14 c10">max_ray_depth</span><span class="c6 c10">&nbsp;set to 0, 1, 2, 3, 4, and 5(the </span><span class="c14 c10">-m</span><span class="c9 c6">&nbsp;flag). Use 1024 samples per pixel.</span></li></ul><ul class="c7 lst-kix_cz5ajv176hm6-1 start"><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 0<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image74.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 1<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image54.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 2<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image67.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 3<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image90.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 4<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image88.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 5<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image65.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ul class="c7 lst-kix_cz5ajv176hm6-0"><li class="c0 li-bullet-0"><span class="c6 c10">For </span><span class="c6 c10 c17">CBbunny.dae</span><span class="c6 c10">, output the Russian Roulette rendering with </span><span class="c14 c10">max_ray_depth</span><span class="c6 c10">&nbsp;set to 0, 1, 2, 3, 4, and 100(the </span><span class="c14 c10">-m</span><span class="c6 c10">&nbsp;flag). Use 1024 samples per pixel.</span></li></ul><ul class="c7 lst-kix_cz5ajv176hm6-1 start"><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 0<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image97.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c3"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 1<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image69.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c3"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 2<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image75.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c3"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 3<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image60.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c3"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 4<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image96.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c3"><br></span></li><li class="c8 li-bullet-0"><span class="c4">max_ray_depth</span><span class="c4">&nbsp;= 100<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image92.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ul class="c7 lst-kix_cz5ajv176hm6-0"><li class="c0 li-bullet-0"><span class="c9 c6">Pick one scene and compare rendered views with various sample-per-pixel rates, including at least 1, 2, 4, 8, 16, 64, and 1024. Use 4 light rays.</span></li></ul><ul class="c7 lst-kix_cz5ajv176hm6-1 start"><li class="c8 li-bullet-0"><span class="c4">samples-per-pixel</span><span class="c4">&nbsp;= &nbsp;1</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image76.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c14 c10 c24"><br></span></li><li class="c8 li-bullet-0"><span class="c4">samples-per-pixel</span><span class="c4">&nbsp;= 2</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image63.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">samples-per-pixel</span><span class="c4">&nbsp;= 3</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image89.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">samples-per-pixel</span><span class="c4">&nbsp;= 8</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image55.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">samples-per-pixel</span><span class="c4">&nbsp;= 16</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image86.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c5"><br></span></li><li class="c8 li-bullet-0"><span class="c4">samples-per-pixel</span><span class="c4">&nbsp;= 64</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image85.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c8 li-bullet-0"><span class="c4">samples-per-pixel</span><span class="c4">&nbsp;= 1</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image77.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><h3 class="c22" id="h.vdvd5t59vzl8"><span class="c9 c18">Part 5</span></h3><ul class="c7 lst-kix_slz5dzoyzbpi-0 start"><li class="c0 li-bullet-0"><span class="c9 c6">Explain adaptive sampling. Walk through your implementation of the adaptive sampling.</span></li></ul><ul class="c7 lst-kix_slz5dzoyzbpi-1 start"><li class="c13 li-bullet-0"><span class="c6">Adaptive sampling is a way to reduce the number of samples needed to calculate the value of a pixel as generating samples is expensive. We reduce the number of samples by calculating the standard deviation of the illuminance of the radiance of each of our sampled rays and seeing if it gets below a certain threshold. Basically if the standard deviation, </span><img src="images/image42.png"><span class="c6">, gets low enough, or we&rsquo;ve generated enough samples, then we should probably stop sampling as our current estimate isn&rsquo;t changing that much with newer samples. Specifically we need to satisfy the inequality<br></span><img src="images/image43.png"><span class="c6">&nbsp;<br>where n is the number of samples so far and </span><img src="images/image44.png"><span class="c6">&nbsp;is the average illuminance generated by our sampled rays. To calculate </span><img src="images/image44.png"><span class="c6">&nbsp;and </span><img src="images/image42.png"><span class="c6">&nbsp;I keep a running sum in my for loop for ray_trace_pixel where I generate rays and find their illuminance. This is done by creating two variables </span><img src="images/image45.png"><span class="c6">&nbsp;and </span><img src="images/image46.png"><span class="c6">&nbsp;where each iteration we add the illuminance of &nbsp;<br>rad = est_radiance_global_illumination(rand_ray)<br>to our variables, </span><img src="images/image47.png"><span class="c6">, </span><img src="images/image48.png"><span class="c6">. We can then use the formulas on the spec to calculate </span><img src="images/image44.png"><span class="c6">&nbsp;and </span><img src="images/image42.png"><span class="c6">&nbsp;by doing </span><img src="images/image49.png"><span class="c6">, </span><img src="images/image50.png"><span class="c5">. Using these values, whenever our current iteration is a factor of the variable samplesPerBatch, we check whether the pixel satisfies the above inequality and break out of the loop if it&#39;s true. We also store the iteration we stopped at to store in the sampleCountBuffer vector.</span></li></ul><ul class="c7 lst-kix_slz5dzoyzbpi-0"><li class="c0 li-bullet-0"><span class="c6 c10">Pick two scenes and render them with at least 2048 samples per pixel. Show a good sampling rate image with clearly visible differences in sampling rate over various regions and pixels. Include both your sample rate image, which shows your how your adaptive sampling changes depending on which part of the image you are rendering, and your noise-free rendered result. Use 1 sample per light and at least 5 for max ray depth.</span></li></ul><ul class="c7 lst-kix_slz5dzoyzbpi-4 start"><li class="c20 c27 li-bullet-0"><span class="c5">s=2048, l=1, m=5</span></li></ul><p class="c20 c37"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image83.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><ul class="c7 lst-kix_3q2wdhhg2izk-0 start"><li class="c0 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image51.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 li-bullet-0"><span class="c5">s=2048, l=1, m=5</span></li><li class="c0 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image87.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image80.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><h3 class="c30" id="h.67sio9gqhq3z"><span class="c24 c32">Collaboration</span></h3><p class="c36"><span>We discussed each part together to make sure we understood it conceptually, but we coded each part individually. We felt like this was the best way for us to learn for this project. Then if we had any problems with our code we discussed the differences in our implementations. Since this project was hard to debug, we felt this was the best approach. Then we both wrote the final report. It went well and we had a lot of fun doing this project. We learned a lot about how graphics are rendered and how we can speed it up. It helped us understand a lot better how ray tracing works and this project was really good at giving us the intuition behind why it works.</span></p><p class="c36 c16"><span class="c28 c24"></span></p></body></html>